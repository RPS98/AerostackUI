// #region Svg Icon

var iconSvgPointOfInterest = `
   <?xml version="1.0" encoding="UTF-8" standalone="no"?>
   <svg 
      viewBox="0 0 123.119995 185.03999"
      version="1.2"
      id="svg16"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs5">
      <clipPath
         id="clip1">
         <path
            d="M 0 0 L 123 0 L 123 182.636719 L 0 182.636719 Z M 0 0 "
            id="path2" />
      </clipPath>
      </defs>
      <g
         id="surface1">
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:none"
         d="M 61.5,180.77344 9.855469,91.316406 C 4.621094,82.253906 1.863281,71.964844 1.863281,61.5 1.863281,28.566406 28.566406,1.863281 61.5,1.863281 c 32.933594,0 59.63672,26.703125 59.63672,59.636719 0,10.464844 -2.75781,20.753906 -7.99219,29.816406 z m 0,0"
         id="path7" />
      <g
         clip-path="url(#clip1)"
         clip-rule="nonzero"
         id="g11">
         <path
            style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
            d="M 81.999996,1.999038 151.27925,122.00238 c 7.02172,12.15701 10.72123,25.95942 10.72123,39.99762 0,44.17922 -35.82127,80.00048 -80.000484,80.00048 -44.179214,0 -80.000482,-35.82126 -80.000482,-80.00048 0,-14.0382 3.699505,-27.84061 10.721228,-39.99762 z m 0,0"
            transform="matrix(-0.745454,0,0,-0.745454,122.62726,182.26363)"
            id="path9" />
      </g>
      <path
         style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
         d="m 121.99763,72.001911 c 0,1.310023 -0.0629,2.614806 -0.18865,3.919589 -0.131,1.304783 -0.31964,2.599085 -0.57641,3.882908 -0.25676,1.283822 -0.57641,2.551925 -0.95369,3.809547 -0.38253,1.252382 -0.8227,2.483803 -1.32575,3.694264 -0.4978,1.210462 -1.05849,2.394722 -1.67683,3.547542 -0.61833,1.158061 -1.28906,2.27944 -2.01743,3.36938 -0.72837,1.084699 -1.50915,2.137957 -2.33708,3.149295 -0.83318,1.016578 -1.71351,1.985995 -2.63577,2.908254 -0.92749,0.92749 -1.89691,1.80783 -2.90825,2.63576 -1.01658,0.83318 -2.06459,1.61395 -3.15453,2.34232 -1.08994,0.72838 -2.21132,1.39911 -3.36938,2.01744 -1.152823,0.61833 -2.337084,1.17378 -3.547545,1.67683 -1.210462,0.50305 -2.441883,0.94322 -3.694265,1.3205 -1.252382,0.38253 -2.525724,0.70217 -3.809547,0.9537 -1.283822,0.25676 -2.578125,0.45065 -3.882908,0.57641 -1.304783,0.131 -2.609566,0.19388 -3.919589,0.19388 -1.310023,0 -2.614806,-0.0629 -3.919588,-0.19388 -1.304783,-0.12576 -2.599086,-0.31965 -3.882909,-0.57641 -1.283822,-0.25153 -2.557164,-0.57117 -3.809546,-0.9537 -1.252382,-0.37728 -2.483804,-0.81745 -3.694265,-1.3205 -1.210461,-0.50305 -2.394722,-1.0585 -3.547542,-1.67683 -1.158061,-0.61833 -2.27944,-1.28906 -3.369379,-2.01744 -1.089939,-0.72837 -2.137958,-1.50914 -3.154536,-2.34232 -1.011337,-0.82793 -1.980754,-1.70827 -2.908251,-2.63576 -0.922256,-0.922259 -1.802591,-1.891676 -2.635766,-2.908254 -0.827934,-1.011338 -1.608708,-2.064596 -2.337081,-3.149295 -0.728373,-1.08994 -1.399104,-2.211319 -2.017435,-3.36938 -0.618331,-1.15282 -1.179021,-2.33708 -1.67683,-3.547542 -0.503048,-1.210461 -0.943216,-2.441882 -1.325743,-3.694264 -0.377286,-1.257622 -0.696932,-2.525725 -0.953697,-3.809547 -0.256764,-1.283823 -0.445407,-2.578125 -0.57641,-3.882908 -0.125762,-1.304783 -0.188643,-2.609566 -0.188643,-3.919589 0,-1.310023 0.06288,-2.620046 0.188643,-3.924829 0.131003,-1.299543 0.319646,-2.593845 0.57641,-3.882908 0.256765,-1.283822 0.576411,-2.551925 0.953697,-3.804307 0.382527,-1.252382 0.822695,-2.489043 1.325743,-3.699504 0.497809,-1.210462 1.058499,-2.389482 1.67683,-3.547543 0.618331,-1.15282 1.289062,-2.274199 2.017435,-3.364139 0.728373,-1.089939 1.509147,-2.143197 2.337081,-3.154535 0.833175,-1.011338 1.71351,-1.980755 2.635766,-2.908251 0.927497,-0.927496 1.896914,-1.807832 2.908251,-2.635766 1.016578,-0.833175 2.064597,-1.608708 3.154536,-2.337081 1.089939,-0.728373 2.211318,-1.404345 3.369379,-2.017435 1.15282,-0.618331 2.337081,-1.179021 3.547542,-1.68207 1.210461,-0.497809 2.441883,-0.943216 3.694265,-1.320503 1.252382,-0.382527 2.525724,-0.696932 3.809546,-0.953697 1.283823,-0.256764 2.578126,-0.450648 3.882909,-0.57641 1.304782,-0.131002 2.609565,-0.193883 3.919588,-0.193883 1.310023,0 2.614806,0.06288 3.919589,0.193883 1.304783,0.125762 2.599086,0.319646 3.882908,0.57641 1.283823,0.256765 2.557165,0.57117 3.809547,0.953697 1.252382,0.377287 2.483803,0.822694 3.694265,1.320503 1.210461,0.503049 2.394722,1.063739 3.547545,1.68207 1.15806,0.61309 2.27944,1.289062 3.36938,2.017435 1.08994,0.728373 2.13795,1.503906 3.15453,2.337081 1.01134,0.827934 1.98076,1.70827 2.90825,2.635766 0.92226,0.927496 1.80259,1.896913 2.63577,2.908251 0.82793,1.011338 1.60871,2.064596 2.33708,3.154535 0.72837,1.08994 1.3991,2.211319 2.01743,3.364139 0.61834,1.158061 1.17903,2.337081 1.67683,3.547543 0.50305,1.210461 0.94322,2.447122 1.32575,3.699504 0.37728,1.252382 0.69693,2.520485 0.95369,3.804307 0.25677,1.289063 0.44541,2.583365 0.57641,3.882908 0.12577,1.304783 0.18865,2.614806 0.18865,3.924829 z m 0,0"
         transform="matrix(0.745454,0,0,0.745454,0.372727,0.372727)"
         id="path13" />
      </g>
   </svg>
`;

var iconSvgWayPoint = `
   <?xml version="1.0" encoding="UTF-8" standalone="no"?>
   <svg 
   viewBox="0 0 123.119995 185.03999"
   version="1.2"
   id="svg14"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
   <defs
      id="defs5">
      <clipPath
      id="clip1">
      <path
         d="M 0 0 L 123 0 L 123 182.636719 L 0 182.636719 Z M 0 0 "
         id="path2" />
      </clipPath>
   </defs>
   <g
      id="surface1">
      <path
      style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:none"
      d="M 61.5,180.77344 9.855469,91.316406 C 4.621094,82.253906 1.863281,71.964844 1.863281,61.5 1.863281,28.566406 28.566406,1.863281 61.5,1.863281 c 32.933594,0 59.63672,26.703125 59.63672,59.636719 0,10.464844 -2.75781,20.753906 -7.99219,29.816406 z m 0,0"
      id="path7" />
      <g
      clip-path="url(#clip1)"
      clip-rule="nonzero"
      id="g11">
      <path
         style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
         d="M 81.999996,1.999038 151.27925,122.00238 c 7.02172,12.15701 10.72123,25.95942 10.72123,39.99762 0,44.17922 -35.82127,80.00048 -80.000484,80.00048 -44.179214,0 -80.000482,-35.82126 -80.000482,-80.00048 0,-14.0382 3.699505,-27.84061 10.721228,-39.99762 z m 0,0"
         transform="matrix(-0.745454,0,0,-0.745454,122.62726,182.26363)"
         id="path9" />
      </g>
   </g>
   </svg>
`;

var iconSvgLandPoint = `
   <?xml version="1.0" encoding="UTF-8" standalone="no"?>
   <svg
      viewBox="0 0 123.119995 185.03999"
      version="1.2"
      id="svg20"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs5">
      <clipPath
         id="clip1">
         <path
            d="M 0 0 L 123 0 L 123 182.636719 L 0 182.636719 Z M 0 0 "
            id="path2" />
      </clipPath>
      </defs>
      <g
         id="surface1">
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:none"
         d="M 61.5,180.77344 9.855469,91.316406 C 4.621094,82.253906 1.863281,71.964844 1.863281,61.5 1.863281,28.566406 28.566406,1.863281 61.5,1.863281 c 32.933594,0 59.63672,26.703125 59.63672,59.636719 0,10.464844 -2.75781,20.753906 -7.99219,29.816406 z m 0,0"
         id="path7" />
      <g
         clip-path="url(#clip1)"
         clip-rule="nonzero"
         id="g11">
         <path
            style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
            d="M 81.999996,1.999038 151.27925,122.00238 c 7.02172,12.15701 10.72123,25.95942 10.72123,39.99762 0,44.17922 -35.82127,80.00048 -80.000484,80.00048 -44.179214,0 -80.000482,-35.82126 -80.000482,-80.00048 0,-14.0382 3.699505,-27.84061 10.721228,-39.99762 z m 0,0"
            transform="matrix(-0.745454,0,0,-0.745454,122.62726,182.26363)"
            id="path9" />
      </g>
      <path
         style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
         d="m 42.002385,77.000959 h 79.995245 v 20.00143 H 42.002385 Z m 0,0"
         transform="matrix(0.745454,0,0,0.745454,0.372727,0.372727)"
         id="path13" />
      <path
         style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
         d="M 1.998099,77.001424 H 102.00001 V 96.997615 H 1.998099 Z m 0,0"
         transform="matrix(0,0.745454,-0.745454,0,103.9909,26.463633)"
         id="path15" />
      <path
         style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
         d="M 61.998097,77.002369 H 162.00001 V 96.99856 H 61.998097 Z m 0,0"
         transform="matrix(0,0.745454,-0.745454,0,148.71817,-18.263634)"
         id="path17" />
      </g>
   </svg>
`;

var iconSvgTakeOffPoint = `
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg 
   viewBox="0 0 123.119995 185.03999"
   version="1.2"
   id="svg18"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
   <defs
     id="defs5">
    <clipPath
       id="clip1">
      <path
         d="M 0 0 L 123 0 L 123 182.636719 L 0 182.636719 Z M 0 0 "
         id="path2" />
    </clipPath>
  </defs>
  <g
     id="surface1">
    <path
       style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:none"
       d="M 61.5,180.77344 9.855469,91.316406 C 4.621094,82.253906 1.863281,71.964844 1.863281,61.5 1.863281,28.566406 28.566406,1.863281 61.5,1.863281 c 32.933594,0 59.63672,26.703125 59.63672,59.636719 0,10.464844 -2.75781,20.753906 -7.99219,29.816406 z m 0,0"
       id="path7" />
    <g
       clip-path="url(#clip1)"
       clip-rule="nonzero"
       id="g11">
      <path
         style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
         d="M 81.999996,1.999038 151.27925,122.00238 c 7.02172,12.15701 10.72123,25.95942 10.72123,39.99762 0,44.17922 -35.82127,80.00048 -80.000484,80.00048 -44.179214,0 -80.000482,-35.82126 -80.000482,-80.00048 0,-14.0382 3.699505,-27.84061 10.721228,-39.99762 z m 0,0"
         transform="matrix(-0.745454,0,0,-0.745454,122.62726,182.26363)"
         id="path9" />
    </g>
    <path
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
       d="m 47.000481,77.001891 h 69.997149 v 19.99619 H 47.000481 Z m 0,0"
       transform="matrix(0,0.745454,-0.745454,0,126.35453,4.1)"
       id="path13" />
    <path
       style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
       d="M 42.002385,52.00048 H 121.99763 V 72.001911 H 42.002385 Z m 0,0"
       transform="matrix(0.745454,0,0,0.745454,0.372727,0.372727)"
       id="path15" />
  </g>
</svg>        
`;

var iconSvgUav = `
   <?xml version="1.0" encoding="UTF-8" standalone="no"?>
   <svg
      viewBox="0 0 198 199.92"
      version="1.2"
      id="svg31"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs8">
      <clipPath
         id="clip1">
         <path
            d="M 89 89 L 198 89 L 198 198 L 89 198 Z M 89 89 "
            id="path2" />
      </clipPath>
      <clipPath
         id="clip2">
         <path
            d="M 0 89 L 109 89 L 109 198 L 0 198 Z M 0 89 "
            id="path5" />
      </clipPath>
      </defs>
      <g
         id="surface1">
      <path
         style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
         d="M 52.000204,52.000204 H 211.99983 V 211.99983 H 52.000204 Z m 0,0"
         transform="matrix(0.74717,0,0,0.74717,0.373585,0.373585)"
         id="path10" />
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
         d="M 52.000204,52.000204 211.99983,132.00002 52.000204,211.99983 Z m 0,0"
         transform="matrix(0.74717,0,0,0.74717,0.373585,0.373585)"
         id="path12" />
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:none"
         d="m 121.41406,158.77344 c 0,-20.62891 16.73047,-37.35938 37.35938,-37.35938 9.90625,0 19.41015,3.9375 26.42187,10.94141 7,7.00781 10.9375,16.51172 10.9375,26.41797 0,9.90625 -3.9375,19.41015 -10.9375,26.42187 -7.01172,7 -16.51562,10.9375 -26.42187,10.9375 -9.90625,0 -19.41016,-3.9375 -26.41797,-10.9375 -7.00391,-7.01172 -10.94141,-16.51562 -10.94141,-26.42187 z m 37.35938,-18.67969 c -10.31641,0 -18.67969,8.36328 -18.67969,18.67969 0,10.32031 8.36328,18.67968 18.67969,18.67968 10.32031,0 18.67968,-8.35937 18.67968,-18.67968 0,-10.31641 -8.35937,-18.67969 -18.67968,-18.67969 z m 0,0"
         id="path14" />
      <g
         clip-path="url(#clip1)"
         clip-rule="nonzero"
         id="g18">
         <path
            style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
            d="m 161.99864,211.99983 c 0,-27.6094 22.39179,-50.00119 50.00119,-50.00119 13.25836,0 25.97824,5.26989 35.36261,14.6438 9.36869,9.37915 14.63858,22.09902 14.63858,35.35739 0,13.25836 -5.26989,25.97824 -14.63858,35.36261 -9.38437,9.36869 -22.10425,14.63858 -35.36261,14.63858 -13.25837,0 -25.97824,-5.26989 -35.35739,-14.63858 -9.37391,-9.38437 -14.6438,-22.10425 -14.6438,-35.36261 z m 50.00119,-25.0006 c -13.80732,0 -25.0006,11.19328 -25.0006,25.0006 0,13.81254 11.19328,25.00059 25.0006,25.00059 13.81254,0 25.00059,-11.18805 25.00059,-25.00059 0,-13.80732 -11.18805,-25.0006 -25.00059,-25.0006 z m 0,0"
            transform="matrix(0.74717,0,0,0.74717,0.373585,0.373585)"
            id="path16" />
      </g>
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
         d="m 161.99864,52.000204 c 0,-27.609398 22.39179,-50.00119 50.00119,-50.00119 13.25836,0 25.97824,5.269887 35.36261,14.638575 9.36869,9.384372 14.63858,22.104248 14.63858,35.362615 0,13.258366 -5.26989,25.978242 -14.63858,35.357386 -9.38437,9.373916 -22.10425,14.6438 -35.36261,14.6438 -13.25837,0 -25.97824,-5.269884 -35.35739,-14.6438 -9.37391,-9.379144 -14.6438,-22.09902 -14.6438,-35.357386 z m 50.00119,-25.000595 c -13.80732,0 -25.0006,11.188054 -25.0006,25.000595 0,13.807313 11.19328,25.000595 25.0006,25.000595 13.81254,0 25.00059,-11.193282 25.00059,-25.000595 0,-13.812541 -11.18805,-25.000595 -25.00059,-25.000595 z m 0,0"
         transform="matrix(0.74717,0,0,0.74717,0.373585,0.373585)"
         id="path20" />
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:none"
         d="m 1.867188,158.77344 c 0,-20.62891 16.730468,-37.35938 37.359374,-37.35938 9.90625,0 19.410157,3.9375 26.417969,10.94141 7.003907,7.00781 10.941407,16.51172 10.941407,26.41797 0,9.90625 -3.9375,19.41015 -10.941407,26.42187 -7.007812,7 -16.511719,10.9375 -26.417969,10.9375 -9.90625,0 -19.410156,-3.9375 -26.421874,-10.9375 -7,-7.01172 -10.9375,-16.51562 -10.9375,-26.42187 z m 37.359374,-18.67969 c -10.320312,0 -18.679687,8.36328 -18.679687,18.67969 0,10.32031 8.359375,18.67968 18.679687,18.67968 10.316407,0 18.679688,-8.35937 18.679688,-18.67968 0,-10.31641 -8.363281,-18.67969 -18.679688,-18.67969 z m 0,0"
         id="path22" />
      <g
         clip-path="url(#clip2)"
         clip-rule="nonzero"
         id="g26">
         <path
            style="fill:none;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
            d="m 1.999014,211.99983 c 0,-27.6094 22.391792,-50.00119 50.00119,-50.00119 13.258366,0 25.978242,5.26989 35.357386,14.6438 9.373916,9.37915 14.6438,22.09902 14.6438,35.35739 0,13.25836 -5.269884,25.97824 -14.6438,35.36261 -9.379144,9.36869 -22.09902,14.63858 -35.357386,14.63858 -13.258367,0 -25.978243,-5.26989 -35.362615,-14.63858 C 7.268901,237.97807 1.999014,225.25819 1.999014,211.99983 Z m 50.00119,-25.0006 c -13.812541,0 -25.000595,11.19328 -25.000595,25.0006 0,13.81254 11.188054,25.00059 25.000595,25.00059 13.807313,0 25.000595,-11.18805 25.000595,-25.00059 0,-13.80732 -11.193282,-25.0006 -25.000595,-25.0006 z m 0,0"
            transform="matrix(0.74717,0,0,0.74717,0.373585,0.373585)"
            id="path24" />
      </g>
      <path
         style="fill:#FILL;fill-opacity:1;fill-rule:nonzero;stroke:#BORDER;stroke-width:3;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1"
         d="m 1.999014,52.000204 c 0,-27.609398 22.391792,-50.00119 50.00119,-50.00119 13.258366,0 25.978242,5.269887 35.357386,14.638575 9.373916,9.384372 14.6438,22.104248 14.6438,35.362615 0,13.258366 -5.269884,25.978242 -14.6438,35.357386 -9.379144,9.373916 -22.09902,14.6438 -35.357386,14.6438 -13.258367,0 -25.978243,-5.269884 -35.362615,-14.6438 C 7.268901,77.978446 1.999014,65.25857 1.999014,52.000204 Z m 50.00119,-25.000595 c -13.812541,0 -25.000595,11.188054 -25.000595,25.000595 0,13.807313 11.188054,25.000595 25.000595,25.000595 13.807313,0 25.000595,-11.193282 25.000595,-25.000595 0,-13.812541 -11.193282,-25.000595 -25.000595,-25.000595 z m 0,0"
         transform="matrix(0.74717,0,0,0.74717,0.373585,0.373585)"
         id="path28" />
      </g>
   </svg>
`;

// #endregion

class Marker extends DrawManager {
   constructor(
      name,
      options = {},
      iconSvgGrey,
      fillColor = '#b3b3b3',
      borderColor = '#7f7f7f',
      iconSize = [24, 40],
      iconAnchor = [12, 40]) {

      let newIcon = Marker.getIcon(iconSvgGrey, fillColor, borderColor, iconSize, iconAnchor);

      options['markerStyle'] = { 'icon': newIcon };
      options['markerStyle'] = { 'icon': newIcon };

      super('Marker', name, options);

      this.iconSvgGrey = iconSvgGrey;
      this.iconSize = iconSize;
      this.iconAnchor = iconAnchor;
   }

   codeDraw(id, values, options = {}, iconSvgGrey = this.iconSvgGrey, iconSize = this.iconSize, iconAnchor = this.iconAnchor) {
      let colors = M.UAV_MANAGER.getColors(id);
      options['icon'] = Marker.getIcon(iconSvgGrey, colors[1], colors[0], iconSize, iconAnchor);
      let marker = super.codeDraw(values, options);
      marker.pm.setOptions({ draggable: false });
      return marker;
   }

   _addChangeCallback(id, info) {
      Utils.addFormCallback(`${id}-change`, [`${id}-lat`, `${id}-lng`], ['lat', 'lng'], this._changeCallback.bind(this), id, info);
  }

   _changeCallback(myargs, inputs) {
      let layer = myargs[1].layer;
      layer.setLatLng(L.latLng(inputs.lat, inputs.lng));
   }

   drawInfoAdd(htmlId, info, name = "Marker", initialHtml = [], endHtml = undefined, uavPickerType = undefined) {

      let lat = info.layer._latlng.lat;
      let lng = info.layer._latlng.lng;

      let id = htmlId + '-' + info.id;
      let latDict = HTMLUtils.addDict('input', `${id}-lat`, { 'class': 'form-control', 'required': 'required', 'value': Utils.round(lat, 6) }, 'number', 'Latitude');
      let lngDict = HTMLUtils.addDict('input', `${id}-lng`, { 'class': 'form-control', 'required': 'required', 'value': Utils.round(lng, 6) }, 'number', 'Longitude');
      initialHtml.push(HTMLUtils.addDict('splitDivs', 'none', { 'class': 'row my-1 mx-1' }, [latDict, lngDict], { 'class': 'col-6' }));

      return super.drawInfoAdd(htmlId, info, name, initialHtml, endHtml, uavPickerType);
   }

   static getIcon(
      iconSvgGrey,
      fillColor = '#b3b3b3',
      borderColor = '#7f7f7f',
      iconSize = [24, 40],
      iconAnchor = [12, 40]) {

      let iconSvgModified = iconSvgGrey.replace(new RegExp('#BORDER', 'g'), borderColor).replace(new RegExp('#FILL', 'g'), fillColor);

      return L.divIcon({
         html: iconSvgModified,
         className: "svg-icon",
         iconSize: iconSize,
         iconAnchor: iconAnchor,
      });
   }
}

class PointOfInterest extends Marker {
   constructor(fillColor = undefined, borderColor = undefined, options = undefined) {

      super(
         'PointOfInterest',
         options,
         iconSvgPointOfInterest,
         fillColor,
         borderColor);
   }

   userDraw(options = {}) {
      options['continueDrawing'] = false;
      return super.userDraw(options);
   }

   drawInfoAdd(id, info) {
      let name = 'Point of Interest';
      return super.drawInfoAdd(id, info, name, undefined, undefined, 'radio');
   }
}

class WayPoint extends Marker {
   constructor(fillColor = undefined, borderColor = undefined, options = undefined) {

      super(
         'WayPoint',
         options,
         iconSvgWayPoint,
         fillColor,
         borderColor);
   }

   userDraw(options = {}) {
      options['continueDrawing'] = true;
      return super.userDraw(options);
   }

   drawInfoAdd(id, info) {
      let name = 'Waypoint';
      return super.drawInfoAdd(id, info, name, undefined, undefined, 'radio');
   }
}

class LandPoint extends Marker {
   constructor(fillColor = undefined, borderColor = undefined, options = undefined) {

      super(
         'LandPoint',
         options,
         iconSvgLandPoint,
         fillColor,
         borderColor);
   }

   userDraw(options = {}) {
      options['continueDrawing'] = false;
      return super.userDraw(options);
   }

   drawInfoAdd(id, info) {
      let name = 'Land Point';
      return super.drawInfoAdd(id, info, name, undefined, undefined, 'radio');
   }
}

class TakeOffPoint extends Marker {
   constructor(fillColor = undefined, borderColor = undefined, options = undefined) {

      super(
         'TakeOffPoint',
         options,
         iconSvgTakeOffPoint,
         fillColor,
         borderColor);
   }

   userDraw(options = {}) {
      options['continueDrawing'] = false;
      return super.userDraw(options);
   }

   drawInfoAdd(id, info) {
      let name = 'Take Off Point';
      return super.drawInfoAdd(id, info, name);
   }
}

class UAVMarker extends Marker {
   constructor(options = undefined) {

      super(
         'UAVMarker',
         options,
         iconSvgUav,
         undefined,
         undefined,
         [30, 30],
         [15, 15]);
   }
}
